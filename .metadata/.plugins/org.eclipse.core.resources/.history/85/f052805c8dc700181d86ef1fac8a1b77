package com.cg.service;

import java.sql.Date;
import java.util.regex.Pattern;

import com.cg.entities.Users;

public class ValidationServiceImpl implements ValidationService
{
	static final String VALIDATED = "Okay";

	@Override
	public String UserValidation(Users user) 
	{
		return null;
		
	}

	
	//these are generic functions for validation....
	
		public String PasswordValidation(String str)
		{
			String pswdPattern = "(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=])(?=\\S+$).{8,}";
			/*(?=.*[0-9])= a digit must occur at least once
			(?=.*[a-z])= a lower case letter must occur at least once
			(?=.*[A-Z])= an upper case letter must occur at least once
			(?=.*[@#$%^&+=])= a special character must occur at least once
			(?=\\S+$) =no whitespace allowed in the entire string
			.{8,}= at least 8 characters*/
			if(Pattern.matches(pswdPattern,str))
			{
				return VALIDATED;
			}
			else
			{
				return "Enter a Valid Password ";
			}
		}
		
		public String nameValidation(String str)
		{
			String namePattern = "[A-Z][a-z]{1,20}";
			if(Pattern.matches(namePattern,str))
			{
				return VALIDATED;
			}
			else
			{
				return "Enter name that starts with a capital letter ";
			}
		}
		
		public String PhoneValidation(String str)
		{
			String PhonePattern = "[0-9]{10}";
			if(Pattern.matches(PhonePattern,str))
			{
				return VALIDATED;
			}
			else
			{
				return "Enter a valid Phone Number ";
			}
		}
		
		public String EmailValidation(String str)
		{
			String EmailPattern = "[a-zA-Z0-9._%+-]+@[A-Za-z]+[.][A-Za-z]{1,3}";
			if(Pattern.matches(EmailPattern,str))
			{
				return VALIDATED;
			}
			else
			{
				return "Enter a valid Email Address ";
			}
		}
		
		public String DateValidation(Date date)
		{
			Date user_date = date;
	        long Day = System.currentTimeMillis();
	        Date c_date = new Date(Day);
	        if(user_date.before(c_date))
	        {
	            return "The date is older than current day";
	        } 
	        else 
	        {
	            return VALIDATED;
	        }
			
		}
}

